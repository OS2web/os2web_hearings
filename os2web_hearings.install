<?php

use Drupal\taxonomy\Entity\Term;
use Drupal\user\Entity\Role;

/**
 * Implements hook_install().
 */
function os2web_hearings_install() {
  // Creating OS2Web Hearings Type: "HÃ¸ringer" and "AfgÃ¸relser".
  Term::create([
    'vid' => 'os2web_hearings_type',
    'name' => 'HÃ¸ringer',
  ])->save();
  Term::create([
    'vid' => 'os2web_hearings_type',
    'name' => 'AfgÃ¸relser',
  ])->save();

  // Creating OS2Web Hearings status: "I gang" and "Afsluttet".
  Term::create([
    'vid' => 'os2web_hearings_status',
    'name' => 'I gang',
  ])->save();
  Term::create([
    'vid' => 'os2web_hearings_status',
    'name' => 'Afsluttet',
  ])->save();

  // Adding comments permissions for anonymous user.
  $anonym = Role::load('anonymous');
  $anonym->grantPermission('post comments');
  $anonym->grantPermission('access comments');
  $anonym->save();

  // Adding comments permissions for authenticated user.
  $authenticated = Role::load('authenticated');
  $authenticated->grantPermission('post comments');
  $authenticated->grantPermission('access comments');
  $authenticated->save();
}
